@{
    ViewData["Title"] = "Contact";
}

<!-- 🌸 MAIN CONTACT SECTION -->
<div class="container mt-5">
    <!-- 🌸 Heading -->
    <h2 class="fw-bold text-center mb-4" style="color:#f24b0f;">Get in Touch</h2>
    <p class="text-center text-secondary mb-5 fs-5">
        Feel free to reach out for collaborations, opportunities, or just a friendly chat!
    </p>

    <div class="row align-items-start justify-content-center">

        <!-- =======================
             📧 LEFT SIDE — Contact Info + Social Icons
        ======================= -->
        <div class="col-md-5">

            <!-- Email Info -->
            <div class="mb-4 d-flex align-items-center">
                <div class="rounded-circle bg-light p-3 me-3 d-flex align-items-center justify-content-center" style="color:#f24b0f; width:55px; height:55px;">
                    <img src="https://img.icons8.com/?size=160&id=108813&format=png"
                         alt="Email Icon"
                         style="width:28px; height:28px; object-fit:contain;">
                </div>
                <div>
                    <h5 class="fw-bold mb-1">Email</h5>
                    <p class="text-secondary mb-0">ritishadas38@gmail.com</p>
                </div>
            </div>

            <!-- Phone Info -->
            <div class="mb-4 d-flex align-items-center">
                <div class="rounded-circle bg-light p-3 me-3 d-flex align-items-center justify-content-center" style="color:#f24b0f; width:55px; height:55px;">
                    <img src="https://img.icons8.com/?size=160&id=108644&format=png"
                         alt="Phone Icon"
                         style="width:28px; height:28px; object-fit:contain;">
                </div>
                <div>
                    <h5 class="fw-bold mb-1">Phone</h5>
                    <p class="text-secondary mb-0">+91 8336067877</p>
                </div>
            </div>


            <!-- 🌸 Social Media Links -->
            <div class="d-flex mt-4">
                <!-- LinkedIn -->
                <a href="https://www.linkedin.com/in/ritisha-das712/" target="_blank"
                   class="d-flex align-items-center justify-content-center border border-danger rounded-3 me-3 social-box">
                    <img src="https://img.icons8.com/?size=160&id=108812&format=png" alt="LinkedIn" class="social-img">
                </a>

                <!-- Figma -->
                <a href="https://www.figma.com" target="_blank"
                   class="d-flex align-items-center justify-content-center border border-danger rounded-3 me-3 social-box">
                    <img src="https://img.icons8.com/?size=160&id=3nPo8aR8zRCY&format=png" alt="Figma" class="social-img">
                </a>

                <!-- GitHub -->
                <a href="https://github.com/Ritishadas" target="_blank"
                   class="d-flex align-items-center justify-content-center border border-danger rounded-3 social-box">
                    <img src="https://img.icons8.com/?size=160&id=118553&format=png" alt="GitHub" class="social-img">
                </a>
            </div>
        </div>

        <!-- =======================
             📨 RIGHT SIDE — Contact Form (Formspree)
        ======================= -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 p-4">

                <!-- FORM -->
                <form id="contactForm" novalidate>
                    <!-- Name -->
                    <div class="mb-3">
                        <input id="cf-name" name="name" type="text" class="form-control border-danger" placeholder="Your Name" required />
                    </div>

                    <!-- Email -->
                    <div class="mb-3">
                        <input id="cf-email" name="email" type="email" class="form-control border-danger" placeholder="Your Email" required />
                    </div>

                    <!-- Message -->
                    <div class="mb-3">
                        <textarea id="cf-message" name="message" class="form-control border-danger" rows="4" placeholder="Your Message" required></textarea>
                    </div>

                    <!-- Send Button -->
                    <button id="cf-submit" type="submit" class="btn btn-danger w-100 fw-bold">
                        <i class="bi bi-send me-2"></i> Send Message
                    </button>
                </form>

                <!-- Message Result Box (Hidden initially) -->
                <div id="cf-result" class="mt-3" style="display:none;"></div>

            </div>
        </div>
    </div>
</div>


<!-- =======================
     🎨 STYLES
======================= -->
<style>
    /* Social Box Styling */
    .social-box {
        width: 55px;
        height: 55px;
        transition: 0.3s ease;
        background-color: #fff;
    }

    .social-img {
        width: 28px;
        height: 28px;
        object-fit: contain;
    }

    .social-box:hover {
        background-color: #f24b0f;
        transform: scale(1.05);
    }

        .social-box:hover img {
            filter: brightness(0) invert(1);
            transition: 0.3s ease;
        }

    /* Button Hover */
    .btn-danger {
        background-color: #f24b0f;
        border: none;
    }

        .btn-danger:hover {
            background-color: #d93e0d;
        }
</style>


<!-- =======================
     💌 SCRIPT: Formspree Integration
======================= -->
<script>
    (function () {
        // 💌 Your Formspree endpoint
        const endpoint = "https://formspree.io/f/mdkpplnl";

        // Get form elements
        const form = document.getElementById("contactForm");
        const resultBox = document.getElementById("cf-result");
        const submitBtn = document.getElementById("cf-submit");

        // Helper function to show messages (success/error)
        function showMessage(html, type = "info") {
            resultBox.style.display = "block";
            resultBox.innerHTML = `<div class="alert alert-${type}">${html}</div>`;
        }

        // 📨 Form submission handler
        form.addEventListener("submit", async function (e) {
            e.preventDefault();

            const name = document.getElementById("cf-name").value.trim();
            const email = document.getElementById("cf-email").value.trim();
            const message = document.getElementById("cf-message").value.trim();

            // ✅ Validation: check empty fields
            if (!name || !email || !message) {
                showMessage("⚠️ Please fill in all fields.", "warning");
                return;
            }

            // Disable button while sending
            submitBtn.disabled = true;
            submitBtn.innerText = "Sending...";

            // Prepare data to send
            const payload = { name, email, message, _subject: "New message from your portfolio" };

            try {
                // 🔗 Send data to Formspree
                const res = await fetch(endpoint, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Accept": "application/json"
                    },
                    body: JSON.stringify(payload)
                });

                if (res.ok) {
                    form.reset();
                    showMessage("✅ Your message has been sent successfully!", "success");
                } else {
                    showMessage("❌ Something went wrong. Please try again later.", "danger");
                }
            } catch (error) {
                showMessage("⚠️ Network error. Please try again.", "danger");
            } finally {
                // Re-enable button
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="bi bi-send me-2"></i> Send Message';
            }
        });
    })();
</script>
